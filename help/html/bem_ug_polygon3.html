
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>The polygon3 class</title><meta name="generator" content="MATLAB 9.3"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2018-02-18"><meta name="DC.source" content="bem_ug_polygon3.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>The polygon3 class</h1><!--introduction--><p>The <tt>polygon3</tt> class builds upon the <a href="bem_ug_polygon.html">polygon</a> and <a href="bem_ug_edgeprofile.html">edgeprofile</a> classes and allows to extrude 2D polygons.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Initialization</a></li><li><a href="#3">Methods</a></li><li><a href="#4">Examples</a></li></ul></div><h2 id="1">Initialization</h2><pre class="codeinput"><span class="comment">%  add z-value to 2d polygon POLY2</span>
poly = polygon3( poly2, z );
<span class="comment">%  add edge function or refine function to POLY3</span>
poly = polygon3( poly2, z, <span class="string">'edge'</span>, edge, <span class="string">'refun'</span>, refun );
</pre><p>In the initialization, the following parameters and properties are used</p><div><ul><li><b><tt>poly2</tt></b> two-dimensional polygon</li><li><b><tt>z</tt></b> z-value of polygon,</li><li><b><tt>'edge'</tt></b> edge profile, and</li><li><b><tt>'refun'</tt></b> a refine function for creating plates.</li></ul></div><h2 id="3">Methods</h2><p>There exist several <a href="matlab:doc('polygon3')">methods</a> that are useful in setting up extruded particles or can be used to manipulate the <tt>polygon3</tt> objects.</p><pre class="codeinput"><span class="comment">%  set Z value, direction DIR, or edge profile EDGE of polygon</span>
poly = set( poly, <span class="string">'z'</span>, z );
<span class="comment">%  make plate out of one or several polygons, using edge rounding-off</span>
[ p, poly ] = plate( [ poly1, poly2 ] );
<span class="comment">%  shift polygon to outside</span>
poly = shiftbnd( poly, dist );
<span class="comment">%  make vertical ribbon around particle, using edge rounding-off</span>
p = vribbon( poly );
p = vribbon( poly, z );
<span class="comment">%  make horizontal ribbon around polygon</span>
p = hribbon( poly, d );
</pre><h2 id="4">Examples</h2><p>We first consider polygon without the <tt>edge</tt> argument</p><pre class="codeinput"><span class="comment">%  set up POLYGON3 objects</span>
poly1 = polygon3( round( polygon( 3, <span class="string">'size'</span>, [ 10, 10 ], <span class="string">'dir'</span>, -1 ) ), 0 );
poly2 = polygon3( polygon( 4, <span class="string">'size'</span>, [ 20, 20 ] ), 0 );
<span class="comment">%  make plate</span>
p = plate( [ poly1, poly2 ] );
<span class="comment">%  plot plate</span>
plot( p, <span class="string">'EdgeColor'</span>, <span class="string">'b'</span> );
</pre><p><img vspace="5" hspace="5" src="../figures/polyplate.jpg" alt=""> </p><p>We can use an additional <tt>refun</tt> function to refine the plate at specific points.  For a discussion of the refine function see the description and demo files of the Mesh2d toolbox.</p><pre class="codeinput"><span class="comment">%  refine function</span>
refun = @( pos, d ) 0.2 + abs( pos( :, 1 ) );
<span class="comment">%  make plate</span>
p = plate( [ poly1, poly2 ], <span class="string">'refun'</span>, refun );
</pre><p><img vspace="5" hspace="5" src="../figures/polyplate2.jpg" alt=""> </p><p>We next show how to make the different parts for a nanotriangle, and to make an additional plate around the nanoparticle.  Because of the <tt>edgeprofile</tt> parameter, the edges of the extruded polygon become rounded off.</p><pre class="codeinput"><span class="comment">%  set up edge profile</span>
edge = edgeprofile( 2 );
<span class="comment">%  set up POLYGON3 objects</span>
poly = polygon3( round( polygon( 3, <span class="string">'size'</span>, [ 10, 10 ] ) ), edge.zmax, <span class="string">'edge'</span>, edge );
<span class="comment">%  make upper plate</span>
<span class="comment">%    we need the output POLY argument because additional points have been added to the polygon</span>
[ up, poly ] = plate( poly );
<span class="comment">%  we next make the vertical ribbon around the particle</span>
ribbon = vribbon( poly );
<span class="comment">%  lower plate</span>
lo = plate( set( poly, <span class="string">'z'</span>, edge.zmin ) );

<span class="comment">%  we finally set the z-value of the polygon to zero and shift it outwards</span>
poly = shiftbnd( set( poly, <span class="string">'z'</span>, 0 ), 1 );
<span class="comment">%  additional polyon for plate around triangular nanoparticle</span>
poly2 = polygon3( polygon( 4, <span class="string">'size'</span>, [ 20, 20 ] ), 0 );
<span class="comment">%  make plate around nanoparticle</span>
p = plate( [ poly, poly2 ] );

<span class="comment">%  plot all particles together</span>
plot( [ up; ribbon; lo; p ] );
<span class="comment">%  plot particles separately</span>
plot( [ shift( up, [ 20, 0, 0 ] ); shift( ribbon, [ 30, 0, 0 ] );   <span class="keyword">...</span>
        shift( lo, [ 40, 0, 0 ] ); shift( p,      [ 60, 0, 0 ] ) ], <span class="string">'EdgeColor'</span>, <span class="string">'b'</span> );
</pre><p><img vspace="5" hspace="5" src="../figures/polyparticle.jpg" alt=""> </p><p>In the final example we investigate the <tt>dir</tt> argument of the <tt>polygon</tt> class and the use of different <tt>edge</tt> profiles.</p><pre class="codeinput"><span class="comment">%  set up edge profile</span>
edge = edgeprofile( 15 );
<span class="comment">%  polygons for inside and outside of torus-shaped particle</span>
poly1 = polygon3( polygon( 30, <span class="string">'size'</span>, [ 20, 20 ], <span class="string">'dir'</span>, -1 ), edge.zmin, <span class="string">'edge'</span>, edge );
poly2 = polygon3( polygon( 30, <span class="string">'size'</span>, [ 40, 40 ], <span class="string">'dir'</span>, +1 ), edge.zmin, <span class="string">'edge'</span>, edge );
<span class="comment">%  extrude ribbon at inside and outside</span>
rib1 = vribbon( poly1 );
rib2 = vribbon( poly2 );

<span class="comment">%  change direction of inner polygon and extrude it</span>
rib3 = vribbon( set( poly1, <span class="string">'dir'</span>, 1 ) );
<span class="comment">%  add sharp edge profile to inner polygon and extrude it</span>
rib4 = vribbon( set( poly1, <span class="string">'edge'</span>, edgeprofile( 15, <span class="string">'mode'</span>, <span class="string">'11'</span> ) ) );

<span class="comment">%  plot ribbons</span>
plot( [ rib1; rib2; shift( rib3, [ 40, 0, 0 ] ); shift( rib4, [ 70, 0, 0 ] ) ], <span class="string">'EdgeColor'</span>, <span class="string">'b'</span> );
</pre><p><img vspace="5" hspace="5" src="../figures/polyparticle2.jpg" alt=""> </p><p>Copyright 2017 Ulrich Hohenester</p><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2017b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% The polygon3 class
%
% The |polygon3| class builds upon the <bem_ug_polygon.html polygon> and
% <bem_ug_edgeprofile.html edgeprofile> classes and allows to extrude 2D
% polygons.
%
%% Initialization

%  add z-value to 2d polygon POLY2
poly = polygon3( poly2, z );
%  add edge function or refine function to POLY3
poly = polygon3( poly2, z, 'edge', edge, 'refun', refun );

%%
% In the initialization, the following parameters and properties are used
%
% * *|poly2|* two-dimensional polygon
% * *|z|* z-value of polygon,
% * *|'edge'|* edge profile, and
% * *|'refun'|* a refine function for creating plates.
%
%% Methods
%
% There exist several <matlab:doc('polygon3') methods> that are useful in 
% setting up extruded particles or can be used to manipulate the |polygon3|
% objects.

%  set Z value, direction DIR, or edge profile EDGE of polygon
poly = set( poly, 'z', z );
%  make plate out of one or several polygons, using edge rounding-off
[ p, poly ] = plate( [ poly1, poly2 ] );
%  shift polygon to outside
poly = shiftbnd( poly, dist );
%  make vertical ribbon around particle, using edge rounding-off 
p = vribbon( poly );
p = vribbon( poly, z );
%  make horizontal ribbon around polygon
p = hribbon( poly, d );

%% Examples
%
% We first consider polygon without the |edge| argument

%  set up POLYGON3 objects
poly1 = polygon3( round( polygon( 3, 'size', [ 10, 10 ], 'dir', -1 ) ), 0 );
poly2 = polygon3( polygon( 4, 'size', [ 20, 20 ] ), 0 );
%  make plate
p = plate( [ poly1, poly2 ] );
%  plot plate
plot( p, 'EdgeColor', 'b' );

%%
% <<../figures/polyplate.jpg>>
%
% We can use an additional |refun| function to refine the plate at specific
% points.  For a discussion of the refine function see the description and
% demo files of the Mesh2d toolbox.

%  refine function
refun = @( pos, d ) 0.2 + abs( pos( :, 1 ) );
%  make plate
p = plate( [ poly1, poly2 ], 'refun', refun );

%%
% <<../figures/polyplate2.jpg>>
%
% We next show how to make the different parts for a nanotriangle, and to
% make an additional plate around the nanoparticle.  Because of the
% |edgeprofile| parameter, the edges of the extruded polygon become rounded
% off.

%  set up edge profile
edge = edgeprofile( 2 );
%  set up POLYGON3 objects
poly = polygon3( round( polygon( 3, 'size', [ 10, 10 ] ) ), edge.zmax, 'edge', edge );
%  make upper plate
%    we need the output POLY argument because additional points have been added to the polygon
[ up, poly ] = plate( poly );
%  we next make the vertical ribbon around the particle
ribbon = vribbon( poly );
%  lower plate
lo = plate( set( poly, 'z', edge.zmin ) );

%  we finally set the z-value of the polygon to zero and shift it outwards
poly = shiftbnd( set( poly, 'z', 0 ), 1 );
%  additional polyon for plate around triangular nanoparticle
poly2 = polygon3( polygon( 4, 'size', [ 20, 20 ] ), 0 );
%  make plate around nanoparticle
p = plate( [ poly, poly2 ] );

%  plot all particles together
plot( [ up; ribbon; lo; p ] );
%  plot particles separately
plot( [ shift( up, [ 20, 0, 0 ] ); shift( ribbon, [ 30, 0, 0 ] );   ...
        shift( lo, [ 40, 0, 0 ] ); shift( p,      [ 60, 0, 0 ] ) ], 'EdgeColor', 'b' );

%%
% <<../figures/polyparticle.jpg>>
%
% In the final example we investigate the |dir| argument of the |polygon|
% class and the use of different |edge| profiles.

%  set up edge profile
edge = edgeprofile( 15 );
%  polygons for inside and outside of torus-shaped particle
poly1 = polygon3( polygon( 30, 'size', [ 20, 20 ], 'dir', -1 ), edge.zmin, 'edge', edge );
poly2 = polygon3( polygon( 30, 'size', [ 40, 40 ], 'dir', +1 ), edge.zmin, 'edge', edge );
%  extrude ribbon at inside and outside
rib1 = vribbon( poly1 );
rib2 = vribbon( poly2 );

%  change direction of inner polygon and extrude it
rib3 = vribbon( set( poly1, 'dir', 1 ) );
%  add sharp edge profile to inner polygon and extrude it
rib4 = vribbon( set( poly1, 'edge', edgeprofile( 15, 'mode', '11' ) ) );

%  plot ribbons
plot( [ rib1; rib2; shift( rib3, [ 40, 0, 0 ] ); shift( rib4, [ 70, 0, 0 ] ) ], 'EdgeColor', 'b' );

%%
% <<../figures/polyparticle2.jpg>>
%
% Copyright 2017 Ulrich Hohenester
##### SOURCE END #####
--></body></html>